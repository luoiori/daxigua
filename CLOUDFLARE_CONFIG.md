# Cloudflare Pages 配置说明

## 在 Cloudflare Dashboard 中的配置

当你连接好 Git 仓库后，会看到 "Set up builds and deployments" 页面：

### 必填项：

```
项目名称 (Project name)
├─ 填写: daxigua-game
└─ 说明: 可以自定义，这将是你的网址前缀

生产分支 (Production branch)
├─ 填写: master
└─ 说明: 选择要部署的分支
```

### Build settings（构建设置）：

```
Framework preset（框架预设）
├─ 选择: None
└─ 说明: 这是静态网站，不需要框架

Build command（构建命令）
├─ 填写: 留空（不填任何内容）
└─ 说明: 项目已经是编译好的，不需要构建

Build output directory（构建输出目录）
├─ 填写: /
└─ 或者: . （点号）
└─ 说明: 所有文件都在根目录

Root directory (optional)（根目录）
├─ 填写: 留空（不填）
└─ 说明: 使用仓库根目录
```

### Environment variables（环境变量）
```
├─ 不需要添加
└─ 点击下一步即可
```

---

## 完整填写示例

```
┌─────────────────────────────────────────────┐
│ Project name                                 │
│ ┌─────────────────────────────────────────┐ │
│ │ daxigua-game                            │ │
│ └─────────────────────────────────────────┘ │
│                                              │
│ Production branch                            │
│ ┌─────────────────────────────────────────┐ │
│ │ master                              ▼   │ │
│ └─────────────────────────────────────────┘ │
│                                              │
│ Framework preset                             │
│ ┌─────────────────────────────────────────┐ │
│ │ None                                ▼   │ │
│ └─────────────────────────────────────────┘ │
│                                              │
│ Build command                                │
│ ┌─────────────────────────────────────────┐ │
│ │                                         │ │ ← 留空
│ └─────────────────────────────────────────┘ │
│                                              │
│ Build output directory                       │
│ ┌─────────────────────────────────────────┐ │
│ │ /                                       │ │
│ └─────────────────────────────────────────┘ │
│                                              │
│ Root directory (optional)                    │
│ ┌─────────────────────────────────────────┐ │
│ │                                         │ │ ← 留空
│ └─────────────────────────────────────────┘ │
│                                              │
│              [ Save and Deploy ]             │
└─────────────────────────────────────────────┘
```

---

## 为什么这样配置？

### ❓ 为什么构建命令留空？
✅ 因为你的项目是 Cocos Creator 编译好的静态文件
✅ 不需要运行 npm build、webpack 等构建工具
✅ 文件可以直接使用

### ❓ 为什么输出目录填 `/`？
✅ 所有游戏文件（index.html、res/、src/）都在根目录
✅ Cloudflare 会直接部署根目录的所有文件

### ❓ 如果我填错了怎么办？
✅ 部署后可以在项目设置中修改
✅ 进入项目 > Settings > Builds & deployments

---

## 常见错误提示及解决方法

### 错误 1: "Build failed"
```
原因: 可能误填了构建命令
解决: 确保 Build command 完全为空
```

### 错误 2: "Output directory not found"
```
原因: 输出目录填写错误
解决: 改为 / 或 .
```

### 错误 3: 404 页面
```
原因: index.html 找不到
解决: 检查仓库根目录是否有 index.html
```

---

## 部署后验证

部署成功后，你会看到：
```
✅ Success! Deployed to https://daxigua-game.pages.dev

访问这个网址，应该能看到游戏界面
```

---

## 需要修改配置？

部署后在项目中：
1. 进入你的项目
2. 点击 Settings
3. 点击 Builds & deployments
4. 修改配置
5. 点击 Save
6. 触发重新部署（Deployments > Retry deployment）
